{"ast":null,"code":"var _jsxFileName = \"/Users/thanhtu/Documents/GitHub/ASM1_nodejs/frontend/src/components/search/SearchResult.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport axios from '../../utils/axios';\nimport requests from '../../utils/requests';\nimport './SearchResult.css';\nconst base_url = 'https://image.tmdb.org/t/p/original';\nconst SearchResult = _ref => {\n  let {\n    query\n  } = _ref;\n  const [movies, setMovies] = useState([]);\n  const url = `${requests.fetchSearch}&query=${query}`;\n  useEffect(() => {\n    async function fetchData() {\n      const request = await axios.get(url);\n      console.log('search', request);\n      setMovies(request.data.movies);\n      return request;\n    }\n    if (query) {\n      fetchData();\n    } else {\n      setMovies([]);\n    }\n  }, [url, query]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 4\n    }\n  }, \"Search Result\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row_posters search-resul-container sc2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 4\n    }\n  }, movies.map(movie => {\n    return /*#__PURE__*/React.createElement(\"img\", {\n      key: movie.id,\n      className: `row_poster row_posterLarge`,\n      src: `${base_url}${movie.poster_path}`,\n      alt: movie.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }\n    });\n  })));\n};\nexport default SearchResult;","map":{"version":3,"names":["React","useState","useEffect","axios","requests","base_url","SearchResult","query","movies","setMovies","url","fetchSearch","fetchData","request","get","console","log","data","map","movie","id","poster_path","name"],"sources":["/Users/thanhtu/Documents/GitHub/ASM1_nodejs/frontend/src/components/search/SearchResult.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport axios from '../../utils/axios';\nimport requests from '../../utils/requests';\n\nimport './SearchResult.css';\n\nconst base_url = 'https://image.tmdb.org/t/p/original';\n\nconst SearchResult = ( {query} ) => {\n\tconst [movies, setMovies] = useState([]);\n\tconst url = `${requests.fetchSearch}&query=${query}`;\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\t\n\t\t\tconst request = await axios.get(url);\n\n\t\t\tconsole.log('search',request);\n\n\t\t\tsetMovies(request.data.movies);\n\t\t\treturn request;\n\t\t}\n\n\t\tif (query) {\n\t\t\tfetchData();\n\t\t} else {\n\t\t\tsetMovies([]); \n\t\t}\n\t}, [url, query]);\n\n\treturn(\n\t\t<div className='row'>\n\t\t\t<h2>Search Result</h2>\n\t\t\t<div className='row_posters search-resul-container sc2'>\n\t\t\t\t{movies.map((movie) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tkey={movie.id}\n\t\t\t\t\t\t\tclassName={`row_poster row_posterLarge`}\n\t\t\t\t\t\t\tsrc={`${base_url}${movie.poster_path}`}\n\t\t\t\t\t\t\talt={movie.name}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t)\n};\n\nexport default SearchResult;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAElD,OAAOC,KAAK,MAAM,mBAAmB;AACrC,OAAOC,QAAQ,MAAM,sBAAsB;AAE3C,OAAO,oBAAoB;AAE3B,MAAMC,QAAQ,GAAG,qCAAqC;AAEtD,MAAMC,YAAY,GAAG,QAAe;EAAA,IAAb;IAACC;EAAK,CAAC;EAC7B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAMS,GAAG,GAAI,GAAEN,QAAQ,CAACO,WAAY,UAASJ,KAAM,EAAC;EAEpDL,SAAS,CAAC,MAAM;IACf,eAAeU,SAAS,GAAG;MAE1B,MAAMC,OAAO,GAAG,MAAMV,KAAK,CAACW,GAAG,CAACJ,GAAG,CAAC;MAEpCK,OAAO,CAACC,GAAG,CAAC,QAAQ,EAACH,OAAO,CAAC;MAE7BJ,SAAS,CAACI,OAAO,CAACI,IAAI,CAACT,MAAM,CAAC;MAC9B,OAAOK,OAAO;IACf;IAEA,IAAIN,KAAK,EAAE;MACVK,SAAS,EAAE;IACZ,CAAC,MAAM;MACNH,SAAS,CAAC,EAAE,CAAC;IACd;EACD,CAAC,EAAE,CAACC,GAAG,EAAEH,KAAK,CAAC,CAAC;EAEhB,oBACC;IAAK,SAAS,EAAC,KAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACnB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,mBAAsB,eACtB;IAAK,SAAS,EAAC,wCAAwC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACrDC,MAAM,CAACU,GAAG,CAAEC,KAAK,IAAK;IACtB,oBACC;MACC,GAAG,EAAEA,KAAK,CAACC,EAAG;MACd,SAAS,EAAG,4BAA4B;MACxC,GAAG,EAAG,GAAEf,QAAS,GAAEc,KAAK,CAACE,WAAY,EAAE;MACvC,GAAG,EAAEF,KAAK,CAACG,IAAK;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EACf;EAEJ,CAAC,CAAC,CACG,CACD;AAER,CAAC;AAED,eAAehB,YAAY"},"metadata":{},"sourceType":"module"}